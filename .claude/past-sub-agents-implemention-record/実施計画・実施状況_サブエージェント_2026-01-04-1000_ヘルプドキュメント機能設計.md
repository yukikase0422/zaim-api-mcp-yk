# 実施計画・実施状況: ヘルプドキュメント機能設計

## 作業開始時刻
2026-01-04 10:00

## 指示内容

Zaim MCPツールの説明（description）を確認し、LLMがツールを適切に使用するために必要な情報が含まれているか評価する。また、ヘルプドキュメント参照機能の設計・実装を行う。

### 対象ファイル
1. `src/tools/advanced/advanced-search-tool.ts`
2. `src/tools/advanced/bulk-update-tool.ts`
3. `src/tools/advanced/bulk-delete-tool.ts`

### 評価基準
1. 基本的な説明: ツールが何をするか
2. パラメータの意味: 各パラメータの目的と形式
3. 使用例: 具体的な使用シナリオ
4. 制約・注意点: 安全策、必須条件など
5. 関連ツールとの連携: 他のツールとの組み合わせ方

### 実装内容
1. `docs/tools/` ディレクトリを作成
2. 各ツールのヘルプドキュメントを作成
3. `zaim_get_tool_help` ツールを実装
4. レジストリとハンドラーに登録

## 進行状況

### 1. 現在のツール説明の確認
- [x] advanced-search-tool.ts の確認
- [x] bulk-update-tool.ts の確認
- [x] bulk-delete-tool.ts の確認

### 2. 評価結果の記録
- [x] 評価結果をまとめる

### 3. ヘルプドキュメントの作成
- [x] docs/tools/ ディレクトリ作成
- [x] zaim_advanced_search.md 作成
- [x] zaim_bulk_update.md 作成
- [x] zaim_bulk_delete.md 作成

### 4. zaim_get_tool_help ツールの実装
- [x] ツール実装ファイル作成
- [x] レジストリへの登録
- [x] ハンドラーへの登録

### 5. 報告
- [x] 最終報告の作成

## 評価結果

### zaim_advanced_search

現在のdescription:
> Zaim家計簿データの高度な検索。複合条件（AND/OR）、全フィールド検索、出力制御に対応。日付範囲は必須で、その範囲内のデータを自動的にページネーションして取得します。

| 評価項目 | 評価 | 備考 |
|---------|------|------|
| 基本的な説明 | ○ | 高度な検索、複合条件対応が明記されている |
| パラメータの意味 | △ | inputSchema内に詳細はあるが、複雑な構造の説明は不足 |
| 使用例 | × | 具体的な使用例がない |
| 制約・注意点 | △ | 日付範囲必須は明記されているが、他の制約は不明 |
| 関連ツールとの連携 | × | bulk_update/bulk_deleteとの連携について記載なし |

### zaim_bulk_update

現在のdescription:
> Zaim家計簿データの一括更新。検索条件に合致するレコードを一括で更新する。安全のため事前に件数確認が必須。

| 評価項目 | 評価 | 備考 |
|---------|------|------|
| 基本的な説明 | ○ | 一括更新、検索条件に基づくことが明記されている |
| パラメータの意味 | △ | updatesの構造は詳細があるが複雑 |
| 使用例 | × | 具体的な使用例がない |
| 制約・注意点 | △ | 件数確認必須は明記されているが、更新フィールドは検索条件に含まれている必要があるという重要制約が分かりにくい |
| 関連ツールとの連携 | △ | expectedCountでzaim_advanced_searchの使用を示唆しているが、具体的フローは不明 |

### zaim_bulk_delete

現在のdescription:
> Zaim家計簿データの一括削除。検索条件に合致するレコードを一括で削除する。安全のため検索条件と件数確認が必須。削除は永続的で復元できません。

| 評価項目 | 評価 | 備考 |
|---------|------|------|
| 基本的な説明 | ○ | 一括削除、永続的で復元不可が明記されている |
| パラメータの意味 | ○ | 比較的シンプルで分かりやすい |
| 使用例 | × | 具体的な使用例がない |
| 制約・注意点 | ○ | 安全策（検索条件必須、件数確認必須、復元不可）が明記されている |
| 関連ツールとの連携 | △ | expectedCountでzaim_advanced_searchの使用を示唆しているが、具体的フローは不明 |

## 作成したファイル一覧

1. `docs/tools/zaim_advanced_search.md` - 高度検索ツールのヘルプドキュメント
2. `docs/tools/zaim_bulk_update.md` - 一括更新ツールのヘルプドキュメント
3. `docs/tools/zaim_bulk_delete.md` - 一括削除ツールのヘルプドキュメント
4. `src/tools/help/tool-help.ts` - ヘルプ取得ツールの実装

## 更新したファイル一覧

1. `src/tools/registry.ts` - ヘルプツールのインポートと登録
2. `src/core/tool-handler.ts` - ヘルプツールのインポートとケース追加

## ビルド結果

TypeScriptビルド: 成功

## 完了時刻
2026-01-04 10:30
